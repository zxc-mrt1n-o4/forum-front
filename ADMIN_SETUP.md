# üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–≤—É—Ö—Å–µ—Ä–≤–µ—Ä–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —Ñ–æ—Ä—É–º–∞

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### üì± **–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 3000)** - –ü—É–±–ª–∏—á–Ω—ã–π —Ñ–æ—Ä—É–º
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤, —á—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: `cms-blog` (–ø—É–±–ª–∏—á–Ω–∞—è)
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ (–∞–Ω–æ–Ω–∏–º–Ω–æ –∏ —Å –∏–º–µ–Ω–µ–º)
  - –ß—Ç–µ–Ω–∏–µ –∏ –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–æ—Ñ–∏–ª–∏

### üîí **–ê–¥–º–∏–Ω-—Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 3001)** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —à–ø–∏–æ–Ω–∞–∂
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ú–æ–¥–µ—Ä–∞—Ü–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: `cms-blog-admin` (–∑–∞—â–∏—â–µ–Ω–Ω–∞—è)
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ú–æ–¥–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - **üïµÔ∏è –î–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è** - —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
  - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å–ª–µ–∂–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
  - –ë–∞–Ω/—Ä–∞–∑–±–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
npm install

# –ê–¥–º–∏–Ω-—Å–µ—Ä–≤–µ—Ä
cd admin-server
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä (.env –≤ –∫–æ—Ä–Ω–µ)
```env
MONGODB_URI=mongodb://localhost:27017/cms-blog
JWT_SECRET=your-main-jwt-secret-here
NODE_ENV=development
```

#### –ê–¥–º–∏–Ω-—Å–µ—Ä–≤–µ—Ä (admin-server/.env)
```env
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
NODE_ENV=development
PORT=3001
HOST=127.0.0.1

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∞–¥–º–∏–Ω–∞ (–æ—Ç–¥–µ–ª—å–Ω–∞—è!)
ADMIN_MONGODB_URI=mongodb://localhost:27017/cms-blog-admin

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)
PUBLIC_MONGODB_URI=mongodb://localhost:27017/cms-blog

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
JWT_SECRET=your-super-secure-admin-jwt-secret
ENCRYPTION_KEY=32-character-encryption-key-here
HASH_SALT_ROUNDS=12

# IP —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
ALLOWED_IPS=127.0.0.1,::1,192.168.1.0/24

# –ê–≤–∞—Ä–∏–π–Ω—ã–µ –∫–æ–¥—ã
EMERGENCY_LOCKDOWN_CODE=LOCKDOWN123
EMERGENCY_ACCESS_CODE=EMERGENCY456

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=info
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# –°–µ—Å—Å–∏–∏
SESSION_SECRET=your-session-secret
SESSION_MAX_AGE=3600000
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
cd admin-server
npm run create-admin
```

–í—ã–±–µ—Ä–∏—Ç–µ:
- **–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: admin
- **Email**: admin@localhost.com
- **–ü–∞—Ä–æ–ª—å**: –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤
- **–†–æ–ª—å**: 1 (superadmin) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤

#### –¢–µ—Ä–º–∏–Ω–∞–ª 1 - –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
```bash
npm run dev
# –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ http://localhost:3000
```

#### –¢–µ—Ä–º–∏–Ω–∞–ª 2 - –ê–¥–º–∏–Ω-—Å–µ—Ä–≤–µ—Ä
```bash
cd admin-server
npm run dev
# –ê–¥–º–∏–Ω-—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ http://localhost:3001
```

## üîê –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

### 1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```bash
curl -X POST http://localhost:3001/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "admin",
    "password": "your-password"
  }'
```

–û—Ç–≤–µ—Ç:
```json
{
  "success": true,
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIs...",
    "user": {
      "id": "...",
      "username": "admin",
      "role": "superadmin",
      "permissions": ["VIEW_POSTS", "MODERATE_POSTS", ...]
    },
    "expiresIn": "1h"
  }
}
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
–î–æ–±–∞–≤–ª—è–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã:
```
Authorization: Bearer YOUR_JWT_TOKEN
```

## üïµÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### üìä –î–∞—à–±–æ—Ä–¥
```bash
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:3001/api/admin/dashboard
```

### üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
```bash
# –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
curl -H "Authorization: Bearer YOUR_TOKEN" \
  "http://localhost:3001/api/admin/users?page=1&limit=20"

# –î–µ—Ç–∞–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:3001/api/admin/users/USER_ID

# –ë–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -X PATCH -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"status": "banned", "reason": "Spam"}' \
  http://localhost:3001/api/admin/users/USER_ID/moderation
```

### üïµÔ∏è –î–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤
```bash
# –°–ø–∏—Å–æ–∫ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
curl -H "Authorization: Bearer YOUR_TOKEN" \
  "http://localhost:3001/api/admin/anonymous-posts?onlyUnresolved=true"

# –ü–æ–ø—ã—Ç–∫–∞ –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏
curl -X POST -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:3001/api/admin/posts/POST_ID/deanonymize

# –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞
curl -X POST -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"userId": "USER_ID", "username": "username"}' \
  http://localhost:3001/api/admin/posts/POST_ID/confirm-author
```

### üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
```bash
# –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:3001/api/sync/sync-status

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
curl -X POST -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"limit": 100}' \
  http://localhost:3001/api/sync/sync-users

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤
curl -X POST -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"limit": 100, "includeMetadata": true}' \
  http://localhost:3001/api/sync/sync-posts
```

## üõ°Ô∏è –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –£—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞
1. **superadmin** - –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É
2. **admin** - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞ –±–µ–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. **moderator** - –¢–æ–ª—å–∫–æ –º–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- `VIEW_POSTS` - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å—Ç–æ–≤
- `MODERATE_POSTS` - –ú–æ–¥–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤
- `DELETE_POSTS` - –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
- `VIEW_USERS` - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `MANAGE_USERS` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `BAN_USERS` - –ë–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `DEANONYMIZE_POSTS` - **üïµÔ∏è –î–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤**
- `VIEW_ANALYTICS` - –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- `SYSTEM_ADMIN` - –°–∏—Å—Ç–µ–º–Ω–æ–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞—â–∏—Ç–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã —Å –∫–æ—Ä–æ—Ç–∫–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ (1 —á–∞—Å)
- ‚úÖ IP —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
- ‚úÖ Rate limiting (50 –∑–∞–ø—Ä–æ—Å–æ–≤/15 –º–∏–Ω—É—Ç)
- ‚úÖ AES-256 —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ 2FA –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
- ‚úÖ –ê–≤–∞—Ä–∏–π–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

## üîç –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è

### –ê–ª–≥–æ—Ä–∏—Ç–º –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏
1. **IP –∞–¥—Ä–µ—Å** - –æ—Å–Ω–æ–≤–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (85% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏)
2. **User Agent** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–∞–∫—Ç–æ—Ä (60% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏)
3. **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã** - –≤—Ä–µ–º—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (30% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏)
4. **–ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã** - —Å—Ç–∏–ª—å –ø–∏—Å—å–º–∞, —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—á–∞—Ç–∏

### –ü—Ä–∏–º–µ—Ä –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏
```json
{
  "success": true,
  "suspects": [
    {
      "user": {
        "originalUserId": "user123",
        "username": "john_doe",
        "email": "john@example.com"
      },
      "confidence": 85,
      "reason": "IP match"
    }
  ],
  "confidence": 85
}
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –õ–æ–≥–∏ –∞–¥–º–∏–Ω-–¥–µ–π—Å—Ç–≤–∏–π
tail -f admin-server/logs/admin.log

# –õ–æ–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
tail -f admin-server/logs/security.log

# –õ–æ–≥–∏ –æ—à–∏–±–æ–∫
tail -f admin-server/logs/error.log
```

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö —Ä–∏—Å–∫-—Å–∫–æ—Ä—ã
- –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –ø–æ—Å—Ç—ã –∏ –ø—Ä–æ—Ü–µ–Ω—Ç –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏
- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ IP, –Ω–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞

## üö® –ê–≤–∞—Ä–∏–π–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

### –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
```bash
# –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
export EMERGENCY_LOCKDOWN=true

# –ò–ª–∏ —á–µ—Ä–µ–∑ API —Å –∞–≤–∞—Ä–∏–π–Ω—ã–º –∫–æ–¥–æ–º
curl -X POST -H "Content-Type: application/json" \
  -d '{"emergencyCode": "LOCKDOWN123"}' \
  http://localhost:3001/api/emergency/lockdown
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞
```bash
# –ï—Å–ª–∏ –∑–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å - —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞
cd admin-server
npm run create-admin
```

## üîß –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
–î–æ–±–∞–≤—å—Ç–µ –≤ cron –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–∞–∂–¥—ã–π —á–∞—Å:
```bash
0 * * * * curl -X POST -H "Authorization: Bearer TOKEN" http://localhost:3001/api/sync/auto-sync
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ 2FA
```bash
# –í–∫–ª—é—á–µ–Ω–∏–µ 2FA
curl -X POST -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:3001/api/auth/enable-2fa
```

### –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```bash
# –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ä—à–µ 90 –¥–Ω–µ–π (dry run)
curl -X POST -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"olderThanDays": 90, "dryRun": true}' \
  http://localhost:3001/api/sync/cleanup
```

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –¥–≤—É—Ö—Å–µ—Ä–≤–µ—Ä–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:

- **–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä** - –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ê–¥–º–∏–Ω-—Å–µ—Ä–≤–µ—Ä** - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ **—à–ø–∏–æ–Ω–∞–∂–∞**

–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ **–î–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤** –ø–æ IP, User Agent –∏ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º
- ‚úÖ **–ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∞–Ω–∞–ª–∏–∑–æ–º —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** —Å —Ä–∏—Å–∫-—Å–∫–æ—Ä–∏–Ω–≥–æ–º
- ‚úÖ **–í–æ–µ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏
- ‚úÖ **–ü–æ–ª–Ω–∞—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å** –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**üïµÔ∏è –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —Ä–∞—Å–∫—Ä—ã–≤–∞—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∞–≤—Ç–æ—Ä–æ–≤ –ø–æ—Å—Ç–æ–≤!**

# üïµÔ∏è –ê–¥–º–∏–Ω-—Å–µ—Ä–≤–µ—Ä: –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## üéØ –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

–≠—Ç–æ—Ç –∞–¥–º–∏–Ω-—Å–µ—Ä–≤–µ—Ä –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **–æ—Ç–¥–µ–ª—å–Ω—É—é –∑–∞—â–∏—â–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ä—É–º–æ–º –∏ **—Ç–æ—á–Ω–æ–π –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏** –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

### üîç –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏:

1. **100% —Ç–æ—á–Ω–∞—è –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è** - —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∞–≤—Ç–æ—Ä–∞ –∫–∞–∂–¥–æ–≥–æ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –ø–æ—Å—Ç–∞
2. **–°–∫—Ä—ã—Ç–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –∑–Ω–∞—é—Ç, —á—Ç–æ –∏—Ö –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
3. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∞–Ω–∞–ª–∏–∑–∞** - IP, fingerprint –±—Ä–∞—É–∑–µ—Ä–∞, —Å–µ—Å—Å–∏–∏, –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
4. **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑** - –¥–ª—è —Å–ª—É—á–∞–µ–≤ –±–µ–∑ –ø—Ä—è–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
5. **–ú–∞—Å—Å–æ–≤–∞—è –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–æ—Å—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

## üõ°Ô∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –î–≤—É—Ö—Å–µ—Ä–≤–µ—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- **–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 3000)** - –ø—É–±–ª–∏—á–Ω—ã–π —Ñ–æ—Ä—É–º —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **–ê–¥–º–∏–Ω-—Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 3001)** - –∑–∞–∫—Ä—ã—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Å–ª–µ–∂–∫–∏

### –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
- **cms-blog** - –æ—Å–Ω–æ–≤–Ω–∞—è –ë–î —Å –ø—É–±–ª–∏—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- **cms-blog-admin** - –æ—Ç–¥–µ–ª—å–Ω–∞—è –ë–î –¥–ª—è –∞–¥–º–∏–Ω-–¥–∞–Ω–Ω—ã—Ö –∏ –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏

## üìã –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd admin-server
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
# üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
JWT_SECRET=your-super-secure-jwt-secret-key-here
ENCRYPTION_KEY=your-32-character-encryption-key
ADMIN_IP_WHITELIST=127.0.0.1,192.168.1.0/24
EMERGENCY_CODE=your-emergency-access-code

# üóÑÔ∏è –ë–ê–ó–´ –î–ê–ù–ù–´–•
ADMIN_DB_URI=mongodb://localhost:27017/cms-blog-admin
MAIN_DB_URI=mongodb://localhost:27017/cms-blog

# üåê –°–ï–†–í–ï–†
PORT=3001
NODE_ENV=production

# üîí –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
SESSION_SECRET=your-session-secret
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=50
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_TIME=1800000

# üìß 2FA (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
EMAIL_SERVICE=gmail
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞

```bash
node scripts/create-admin.js
```

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

### 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# –ü—Ä–æ–¥–∞–∫—à–Ω
npm start
```

## üïµÔ∏è –°–∏—Å—Ç–µ–º–∞ –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ—á–Ω–∞—è –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è:

#### 1. **–°–∫—Ä—ã—Ç–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –ø–æ—Å—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç:
```javascript
{
  author: "–ê–Ω–æ–Ω–∏–º",           // –ü—É–±–ª–∏—á–Ω–æ –≤–∏–¥–∏–º–æ–µ –∏–º—è
  authorId: null,             // –°–∫—Ä—ã—Ç–æ –æ—Ç –ø—É–±–ª–∏–∫–∏
  realAuthorId: "user123",    // üïµÔ∏è –°–ö–†–´–¢–û–ï –ü–û–õ–ï - —Ä–µ–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ—Ä
  ipAddress: "192.168.1.100", // IP –∞–¥—Ä–µ—Å
  userAgent: "Chrome/120...", // –ë—Ä–∞—É–∑–µ—Ä
  browserFingerprint: "abc123", // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –æ—Ç–ø–µ—á–∞—Ç–æ–∫
  sessionId: "sess_xyz789"    // ID —Å–µ—Å—Å–∏–∏
}
```

#### 2. **–ú–µ—Ç–æ–¥—ã –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏**

**A. –¢–æ—á–Ω–∞—è –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è (100% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å):**
- –ü—Ä—è–º–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `realAuthorId` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ—Å—Ç–∞
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏

**B. –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (70-95% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å):**
- –ê–Ω–∞–ª–∏–∑ –ø–æ IP –∞–¥—Ä–µ—Å—É (85% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å)
- –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ fingerprint –±—Ä–∞—É–∑–µ—Ä–∞ (70% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å)  
- –ê–Ω–∞–ª–∏–∑ —Å–µ—Å—Å–∏–π (95% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å)
- –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (30-60% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å)

#### 3. **API –¥–ª—è –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏**

```bash
# –î–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ –ø–æ—Å—Ç–∞
GET /api/admin/posts/{postId}/deanonymize

# –ú–∞—Å—Å–æ–≤–∞—è –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è
POST /api/admin/posts/bulk-deanonymize
{
  "postIds": ["id1", "id2", "id3"],
  "minConfidence": 70
}

# –ü–æ–∏—Å–∫ –ø–æ –º–µ—Ç–æ–¥–∞–º
GET /api/admin/posts?anonymous=true&withRealAuthor=true
```

### üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

#### –î–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç–∞:
```bash
curl -X GET "http://localhost:3001/api/admin/posts/64a1b2c3d4e5f6789/deanonymize" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "deanonymization": {
    "postId": "64a1b2c3d4e5f6789",
    "isAnonymous": true,
    "publicAuthor": "–ê–Ω–æ–Ω–∏–º",
    "realAuthor": {
      "id": "64a1b2c3d4e5f6123",
      "username": "student_ivan",
      "email": "ivan@school.ru",
      "accountCreated": "2024-01-15T10:30:00Z"
    },
    "confidence": 100,
    "methods": ["session_tracking"],
    "metadata": {
      "ipAddress": "192.168.1.100",
      "userAgent": "Chrome/120.0.0.0",
      "browserFingerprint": "abc123def456",
      "sessionId": "sess_xyz789",
      "createdAt": "2024-01-20T14:45:00Z"
    }
  }
}
```

#### –ú–∞—Å—Å–æ–≤–∞—è –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è:
```bash
curl -X POST "http://localhost:3001/api/admin/posts/bulk-deanonymize" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "postIds": ["id1", "id2", "id3"],
    "minConfidence": 80
  }'
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏:
```bash
node scripts/test-deanonymization.js
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏...

üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ê–ù–û–ù–ò–ú–ù–´–• –ü–û–°–¢–û–í:
   –í—Å–µ–≥–æ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤: 156
   –° –∏–∑–≤–µ—Å—Ç–Ω—ã–º –∞–≤—Ç–æ—Ä–æ–º: 142 (91%)
   –£–∂–µ —Ä–∞—Å–∫—Ä—ã—Ç—ã—Ö: 23

üéØ –ü–†–ò–ú–ï–†–´ –î–ï–ê–ù–û–ù–ò–ú–ò–ó–ê–¶–ò–ò:
   1. –ü–æ—Å—Ç: "–ü—Ä–∞–≤–¥–∞ –æ –Ω–∞—à–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–µ..."
      –ü—É–±–ª–∏—á–Ω—ã–π –∞–≤—Ç–æ—Ä: –ê–Ω–æ–Ω–∏–º
      –†–µ–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ—Ä: student_alex
      Email: alex@school.ru
      IP: 192.168.1.50
      –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 100% (—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

üìà –û–ë–©–ê–Ø –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–¨ –°–ò–°–¢–ï–ú–´:
   –ü—Ä–æ—Ü–µ–Ω—Ç –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏: 91%
   üèÜ –û–¢–õ–ò–ß–ù–û! –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—á–µ–Ω—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∑–∞—â–∏—Ç–∞

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

1. **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - AES-256 –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
2. **JWT —Ç–æ–∫–µ–Ω—ã** - –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ (1 —á–∞—Å)
3. **IP —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –∞–≤—Ç–æ–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Å–ª–µ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
4. **Rate limiting** - –º–∞–∫—Å–∏–º—É–º 50 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ 15 –º–∏–Ω—É—Ç
5. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è
6. **2FA –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –õ–æ–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏
tail -f logs/security.log | grep deanonymization

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
tail -f logs/admin.log | grep login_attempt
```

## üö® –ü—Ä–æ—Ü–µ–¥—É—Ä—ã —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### –í —Å–ª—É—á–∞–µ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏:

1. **–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞:**
```bash
# –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–µ—Å—Å–∏–∏
curl -X POST "http://localhost:3001/api/auth/emergency-lockdown" \
  -H "Emergency-Code: YOUR_EMERGENCY_CODE"
```

2. **–°–º–µ–Ω–∞ –∫–ª—é—á–µ–π —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:**
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –∫–ª—é—á–µ–π
node scripts/regenerate-keys.js
```

3. **–ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
node scripts/security-audit.js
```

## üìà –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑:
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ—Å—Ç–∏–Ω–≥–∞
- –°—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞
- –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç—è—Ö —Ñ–æ—Ä—É–º–∞
- –ê–Ω–∞–ª–∏–∑ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–≤—è–∑–µ–π

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏:
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- Webhook'–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ó–∞–∫–æ–Ω–Ω–æ—Å—Ç—å**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –º–µ—Å—Ç–Ω–æ–º—É –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤—É
2. **–≠—Ç–∏–∫–∞**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π –∏ –∑–∞—â–∏—Ç—ã –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π
3. **–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å**: –î–æ—Å—Ç—É–ø –∫ –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç—Ä–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω
4. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –±—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
5. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: –°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
curl -X GET "http://localhost:3001/api/sync/sync-status"

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
curl -X POST "http://localhost:3001/api/sync/sync-all"
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π
curl -X GET "http://localhost:3001/api/admin/active-sessions"

# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤
node scripts/cleanup-logs.js
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–º–æ—â–∏:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –ø–∞–ø–∫–µ `logs/`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

---

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï**: –≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö —Ç—Ä–µ–±—É–µ—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–∞–≤–æ–≤—ã—Ö –∏ —ç—Ç–∏—á–µ—Å–∫–∏—Ö –∞—Å–ø–µ–∫—Ç–æ–≤. 